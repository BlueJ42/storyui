{"ast":null,"code":"var _jsxFileName = \"/Users/charchitdahal/IdeaProjects/storyui/src/Login.js\";\nimport React, { Component } from 'react';\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\nimport AppBar from 'material-ui/AppBar';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport TextField from 'material-ui/TextField';\nimport DropDownMenu from 'material-ui/DropDownMenu';\nimport MenuItem from 'material-ui/MenuItem';\nvar apiBaseUrl = \"http://localhost:4000/api/\";\nimport axios from 'axios';\nimport UploadPage from './UploadPage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    var localloginComponent = [];\n    localloginComponent.push( /*#__PURE__*/_jsxDEV(MuiThemeProvider, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          hintText: \"Enter your College Rollno\",\n          floatingLabelText: \"Student Id\",\n          onChange: (event, newValue) => this.setState({\n            username: newValue\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 18,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          type: \"password\",\n          hintText: \"Enter your Password\",\n          floatingLabelText: \"Password\",\n          onChange: (event, newValue) => this.setState({\n            password: newValue\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(RaisedButton, {\n          label: \"Submit\",\n          primary: true,\n          style: style,\n          onClick: event => this.handleClick(event)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 12\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 9\n      }, this)\n    }, \"theme\", false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }, this));\n    this.state = {\n      username: '',\n      password: '',\n      menuValue: 1,\n      loginComponent: localloginComponent,\n      loginRole: 'student'\n    };\n  }\n\n  componentWillMount() {\n    // console.log(\"willmount prop values\",this.props);\n    if (this.props.role != undefined) {\n      if (this.props.role == 'student') {\n        console.log(\"in student componentWillMount\");\n        var localloginComponent = [];\n        localloginComponent.push( /*#__PURE__*/_jsxDEV(MuiThemeProvider, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(TextField, {\n              hintText: \"Enter your College Rollno\",\n              floatingLabelText: \"Student Id\",\n              onChange: (event, newValue) => this.setState({\n                username: newValue\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 12\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 12\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              type: \"password\",\n              hintText: \"Enter your Password\",\n              floatingLabelText: \"Password\",\n              onChange: (event, newValue) => this.setState({\n                password: newValue\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(RaisedButton, {\n              label: \"Submit\",\n              primary: true,\n              style: style,\n              onClick: event => this.handleClick(event)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 14\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 9\n        }, this));\n        this.setState({\n          menuValue: 1,\n          loginComponent: localloginComponent,\n          loginRole: 'student'\n        });\n      } else if (this.props.role == 'teacher') {\n        console.log(\"in teacher componentWillMount\");\n        var localloginComponent = [];\n        localloginComponent.push( /*#__PURE__*/_jsxDEV(MuiThemeProvider, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(TextField, {\n              hintText: \"Enter your College Rollno\",\n              floatingLabelText: \"Teacher Id\",\n              onChange: (event, newValue) => this.setState({\n                username: newValue\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 12\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 12\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              type: \"password\",\n              hintText: \"Enter your Password\",\n              floatingLabelText: \"Password\",\n              onChange: (event, newValue) => this.setState({\n                password: newValue\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(RaisedButton, {\n              label: \"Submit\",\n              primary: true,\n              style: style,\n              onClick: event => this.handleClick(event)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 14\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 9\n        }, this));\n        this.setState({\n          menuValue: 2,\n          loginComponent: localloginComponent,\n          loginRole: 'teacher'\n        });\n      }\n    }\n  }\n\n  handleClick(event) {\n    var self = this;\n    var payload = {\n      \"userid\": this.state.username,\n      \"password\": this.state.password,\n      \"role\": this.state.loginRole\n    };\n    axios.post(apiBaseUrl + 'login', payload).then(function (response) {\n      console.log(response);\n\n      if (response.data.code == 200) {\n        console.log(\"Login successfull\");\n        var uploadScreen = [];\n        uploadScreen.push( /*#__PURE__*/_jsxDEV(UploadPage, {\n          appContext: self.props.appContext,\n          role: self.state.loginRole\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 26\n        }, this));\n        self.props.appContext.setState({\n          loginPage: [],\n          uploadScreen: uploadScreen\n        });\n      } else if (response.data.code == 204) {\n        console.log(\"Username password do not match\");\n        alert(response.data.success);\n      } else {\n        console.log(\"Username does not exists\");\n        alert(\"Username does not exist\");\n      }\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  handleMenuChange(value) {\n    console.log(\"menuvalue\", value);\n    var loginRole;\n\n    if (value == 1) {\n      var localloginComponent = [];\n      loginRole = 'student';\n      localloginComponent.push( /*#__PURE__*/_jsxDEV(MuiThemeProvider, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            hintText: \"Enter your College Rollno\",\n            floatingLabelText: \"Student Id\",\n            onChange: (event, newValue) => this.setState({\n              username: newValue\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 12\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 12\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            type: \"password\",\n            hintText: \"Enter your Password\",\n            floatingLabelText: \"Password\",\n            onChange: (event, newValue) => this.setState({\n              password: newValue\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(RaisedButton, {\n            label: \"Submit\",\n            primary: true,\n            style: style,\n            onClick: event => this.handleClick(event)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 14\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this));\n    } else if (value == 2) {\n      var localloginComponent = [];\n      loginRole = 'teacher';\n      localloginComponent.push( /*#__PURE__*/_jsxDEV(MuiThemeProvider, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            hintText: \"Enter your College Rollno\",\n            floatingLabelText: \"Teacher Id\",\n            onChange: (event, newValue) => this.setState({\n              username: newValue\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 12\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 12\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            type: \"password\",\n            hintText: \"Enter your Password\",\n            floatingLabelText: \"Password\",\n            onChange: (event, newValue) => this.setState({\n              password: newValue\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(RaisedButton, {\n            label: \"Submit\",\n            primary: true,\n            style: style,\n            onClick: event => this.handleClick(event)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 14\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this));\n    }\n\n    this.setState({\n      menuValue: value,\n      loginComponent: localloginComponent,\n      loginRole: loginRole\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(MuiThemeProvider, {\n        children: /*#__PURE__*/_jsxDEV(AppBar, {\n          title: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MuiThemeProvider, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Login as:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(DropDownMenu, {\n            value: this.state.menuValue,\n            onChange: (event, index, value) => this.handleMenuChange(value),\n            children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n              value: 1,\n              primaryText: \"Student\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: 2,\n              primaryText: \"Teacher\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), this.state.loginComponent]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst style = {\n  margin: 15\n};\nexport default Login;","map":{"version":3,"sources":["/Users/charchitdahal/IdeaProjects/storyui/src/Login.js"],"names":["React","Component","MuiThemeProvider","AppBar","RaisedButton","TextField","DropDownMenu","MenuItem","apiBaseUrl","axios","UploadPage","Login","constructor","props","localloginComponent","push","event","newValue","setState","username","password","style","handleClick","state","menuValue","loginComponent","loginRole","componentWillMount","role","undefined","console","log","self","payload","post","then","response","data","code","uploadScreen","appContext","loginPage","alert","success","catch","error","handleMenuChange","value","render","index","margin"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\nimport AppBar from 'material-ui/AppBar';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport TextField from 'material-ui/TextField';\nimport DropDownMenu from 'material-ui/DropDownMenu';\nimport MenuItem from 'material-ui/MenuItem';\nvar apiBaseUrl = \"http://localhost:4000/api/\";\nimport axios from 'axios';\nimport UploadPage from './UploadPage';\nclass Login extends Component {\n  constructor(props){\n    super(props);\n    var localloginComponent=[];\n    localloginComponent.push(\n      <MuiThemeProvider key={\"theme\"}>\n        <div>\n         <TextField\n           hintText=\"Enter your College Rollno\"\n           floatingLabelText=\"Student Id\"\n           onChange={(event,newValue) => this.setState({username:newValue})}\n           />\n         <br/>\n           <TextField\n             type=\"password\"\n             hintText=\"Enter your Password\"\n             floatingLabelText=\"Password\"\n             onChange = {(event,newValue) => this.setState({password:newValue})}\n             />\n           <br/>\n           <RaisedButton label=\"Submit\" primary={true} style={style} onClick={(event) => this.handleClick(event)}/>\n       </div>\n       </MuiThemeProvider>\n    )\n    this.state={\n      username:'',\n      password:'',\n      menuValue:1,\n      loginComponent:localloginComponent,\n      loginRole:'student'\n    }\n  }\n  componentWillMount(){\n  // console.log(\"willmount prop values\",this.props);\n  if(this.props.role != undefined){\n    if(this.props.role == 'student'){\n      console.log(\"in student componentWillMount\");\n      var localloginComponent=[];\n      localloginComponent.push(\n        <MuiThemeProvider>\n          <div>\n           <TextField\n             hintText=\"Enter your College Rollno\"\n             floatingLabelText=\"Student Id\"\n             onChange = {(event,newValue) => this.setState({username:newValue})}\n             />\n           <br/>\n             <TextField\n               type=\"password\"\n               hintText=\"Enter your Password\"\n               floatingLabelText=\"Password\"\n               onChange = {(event,newValue) => this.setState({password:newValue})}\n               />\n             <br/>\n             <RaisedButton label=\"Submit\" primary={true} style={style} onClick={(event) => this.handleClick(event)}/>\n         </div>\n         </MuiThemeProvider>\n      )\n      this.setState({menuValue:1,loginComponent:localloginComponent,loginRole:'student'})\n    }\n    else if(this.props.role == 'teacher'){\n      console.log(\"in teacher componentWillMount\");\n      var localloginComponent=[];\n      localloginComponent.push(\n        <MuiThemeProvider>\n          <div>\n           <TextField\n             hintText=\"Enter your College Rollno\"\n             floatingLabelText=\"Teacher Id\"\n             onChange={(event,newValue) => this.setState({username:newValue})}\n             />\n           <br/>\n             <TextField\n               type=\"password\"\n               hintText=\"Enter your Password\"\n               floatingLabelText=\"Password\"\n               onChange={(event,newValue) => this.setState({password:newValue})}\n               />\n             <br/>\n             <RaisedButton label=\"Submit\" primary={true} style={style} onClick={(event) => this.handleClick(event)}/>\n         </div>\n         </MuiThemeProvider>\n      )\n      this.setState({menuValue:2,loginComponent:localloginComponent,loginRole:'teacher'})\n    }\n  }\n  }\n  handleClick(event){\n    var self = this;\n    var payload={\n      \"userid\":this.state.username,\n\t    \"password\":this.state.password,\n      \"role\":this.state.loginRole\n    }\n    axios.post(apiBaseUrl+'login', payload)\n   .then(function (response) {\n     console.log(response);\n     if(response.data.code == 200){\n       console.log(\"Login successfull\");\n       var uploadScreen=[];\n       uploadScreen.push(<UploadPage appContext={self.props.appContext} role={self.state.loginRole}/>)\n       self.props.appContext.setState({loginPage:[],uploadScreen:uploadScreen})\n     }\n     else if(response.data.code == 204){\n       console.log(\"Username password do not match\");\n       alert(response.data.success)\n     }\n     else{\n       console.log(\"Username does not exists\");\n       alert(\"Username does not exist\");\n     }\n   })\n   .catch(function (error) {\n     console.log(error);\n   });\n  }\n  handleMenuChange(value){\n    console.log(\"menuvalue\",value);\n    var loginRole;\n    if(value==1){\n      var localloginComponent=[];\n      loginRole='student';\n      localloginComponent.push(\n        <MuiThemeProvider>\n          <div>\n           <TextField\n             hintText=\"Enter your College Rollno\"\n             floatingLabelText=\"Student Id\"\n             onChange = {(event,newValue) => this.setState({username:newValue})}\n             />\n           <br/>\n             <TextField\n               type=\"password\"\n               hintText=\"Enter your Password\"\n               floatingLabelText=\"Password\"\n               onChange = {(event,newValue) => this.setState({password:newValue})}\n               />\n             <br/>\n             <RaisedButton label=\"Submit\" primary={true} style={style} onClick={(event) => this.handleClick(event)}/>\n         </div>\n         </MuiThemeProvider>\n      )\n    }\n    else if(value == 2){\n      var localloginComponent=[];\n      loginRole='teacher';\n      localloginComponent.push(\n        <MuiThemeProvider>\n          <div>\n           <TextField\n             hintText=\"Enter your College Rollno\"\n             floatingLabelText=\"Teacher Id\"\n             onChange = {(event,newValue) => this.setState({username:newValue})}\n             />\n           <br/>\n             <TextField\n               type=\"password\"\n               hintText=\"Enter your Password\"\n               floatingLabelText=\"Password\"\n               onChange = {(event,newValue) => this.setState({password:newValue})}\n               />\n             <br/>\n             <RaisedButton label=\"Submit\" primary={true} style={style} onClick={(event) => this.handleClick(event)}/>\n         </div>\n         </MuiThemeProvider>\n      )\n    }\n    this.setState({menuValue:value,\n                   loginComponent:localloginComponent,\n                   loginRole:loginRole})\n  }\n  render() {\n    return (\n      <div>\n        <MuiThemeProvider>\n        <AppBar\n             title=\"Login\"\n           />\n        </MuiThemeProvider>\n        <MuiThemeProvider>\n        <div>\n        <p>Login as:</p>\n        <DropDownMenu value={this.state.menuValue} onChange={(event,index,value)=>this.handleMenuChange(value)}>\n          <MenuItem value={1} primaryText=\"Student\" />\n          <MenuItem value={2} primaryText=\"Teacher\" />\n        </DropDownMenu>\n        </div>\n        </MuiThemeProvider>\n        {this.state.loginComponent}\n      </div>\n    );\n  }\n}\n\nconst style = {\n  margin: 15,\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}